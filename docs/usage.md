# ğŸ“– ä½¿ç”¨è¯´æ˜

## å‘½ä»¤è¡Œé€‰é¡¹

```bash
./run.sh [é€‰é¡¹] [å‚æ•°]

åŸºæœ¬é€‰é¡¹:
  -h, --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -i, --install           å®‰è£…ç³»ç»Ÿä¾èµ–
  -r, --run-once [è´¦å·]   ç«‹å³æ‰§è¡Œä¸€æ¬¡æäº¤
  -d, --daemon            ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œ
  -s, --status            æ˜¾ç¤ºæœåŠ¡çŠ¶æ€
  -t, --test-config       æµ‹è¯•é…ç½®
  --interactive           äº¤äº’å¼é…ç½®

å¤šè´¦å·ç®¡ç†:
  --list-accounts         åˆ—å‡ºæ‰€æœ‰è´¦å·é…ç½®
  --create-config         åˆ›å»ºå¤šè´¦å·é…ç½®æ¨¡æ¿
  --validate-config       éªŒè¯é…ç½®æ–‡ä»¶
  --add-account           æ·»åŠ æ–°è´¦å·é…ç½®
  --edit-account [åç§°]   ç¼–è¾‘æŒ‡å®šè´¦å·é…ç½®
  --disable-account [åç§°] ç¦ç”¨æŒ‡å®šè´¦å·
  --enable-account [åç§°]  å¯ç”¨æŒ‡å®šè´¦å·

ä½¿ç”¨ç¤ºä¾‹:
  ./run.sh --run-once           # æ‰§è¡Œæ‰€æœ‰å¯ç”¨è´¦å·
  ./run.sh --run-once account1  # æ‰§è¡ŒæŒ‡å®šè´¦å·
  ./run.sh --add-account        # äº¤äº’å¼æ·»åŠ è´¦å·
  ./run.sh --list-accounts      # æŸ¥çœ‹è´¦å·çŠ¶æ€
```

## ç®¡ç†è„šæœ¬

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./status.sh

# æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ (æ‰€æœ‰è´¦å·)
./run_once.sh

# æ‰‹åŠ¨æ‰§è¡ŒæŒ‡å®šè´¦å·
./run_once.sh account1

# å¯åŠ¨æœåŠ¡
./start.sh

# åœæ­¢æœåŠ¡
./stop.sh
```

## systemdæœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start github-auto-commit

# åœæ­¢æœåŠ¡
sudo systemctl stop github-auto-commit

# é‡å¯æœåŠ¡
sudo systemctl restart github-auto-commit

# é‡è½½é…ç½®ï¼ˆæ— éœ€é‡å¯æœåŠ¡ï¼‰
./reload_config.sh

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status github-auto-commit

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u github-auto-commit -f

# å¼€æœºè‡ªå¯
sudo systemctl enable github-auto-commit

# ç¦ç”¨è‡ªå¯
sudo systemctl disable github-auto-commit
```

## ğŸ”¥ é…ç½®çƒ­é‡è½½åŠŸèƒ½

ç³»ç»Ÿæ”¯æŒé…ç½®çƒ­é‡è½½ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶åæ— éœ€é‡å¯æœåŠ¡ï¼š

```bash
# æ–¹å¼1: æ‰‹åŠ¨é‡è½½é…ç½®
./reload_config.sh

# æ–¹å¼2: è‡ªåŠ¨æ£€æµ‹ï¼ˆç³»ç»Ÿæ¯30ç§’è‡ªåŠ¨æ£€æŸ¥é…ç½®æ–‡ä»¶å˜åŒ–ï¼‰
# åªéœ€ä¿®æ”¹ data/accounts_config.json æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡è½½
```

**é…ç½®é‡è½½ç‰¹æ€§ï¼š**
- âœ… æ— éœ€é‡å¯æœåŠ¡ï¼Œé…ç½®ç«‹å³ç”Ÿæ•ˆ
- âœ… è‡ªåŠ¨æ£€æµ‹é…ç½®æ–‡ä»¶å˜åŒ–ï¼ˆ30ç§’æ£€æŸ¥é—´éš”ï¼‰
- âœ… æ”¯æŒæ‰‹åŠ¨è§¦å‘é‡è½½
- âœ… é…ç½®é”™è¯¯æ—¶è‡ªåŠ¨å›é€€åˆ°æ—§é…ç½®
- âœ… é‡è½½è¿‡ç¨‹å®Œå…¨é€æ˜ï¼Œä¸å½±å“æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡

## ğŸ—‘ï¸ å¸è½½ç³»ç»Ÿ

å¦‚æœæ‚¨éœ€è¦å®Œå…¨åˆ é™¤GitHubè‡ªåŠ¨æ‰“å¡ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨æä¾›çš„å¸è½½è„šæœ¬ï¼š

### åŸºæœ¬å¸è½½

```bash
# äº¤äº’å¼å¸è½½ï¼ˆæ¨èï¼‰
./uninstall.sh

# å¼ºåˆ¶å¸è½½ï¼ˆæ— éœ€ç¡®è®¤ï¼‰
./uninstall.sh --force
```

### å¸è½½é€‰é¡¹

```bash
./uninstall.sh [é€‰é¡¹]

é€‰é¡¹:
  -h, --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -f, --force             å¼ºåˆ¶å¸è½½ï¼Œä¸è¯¢é—®ç¡®è®¤
  --keep-config           ä¿ç•™é…ç½®æ–‡ä»¶
  --keep-logs             ä¿ç•™æ—¥å¿—æ–‡ä»¶
  --dry-run               ä»…æ˜¾ç¤ºå°†è¦åˆ é™¤çš„å†…å®¹ï¼Œä¸å®é™…åˆ é™¤

ä½¿ç”¨ç¤ºä¾‹:
  ./uninstall.sh                    # äº¤äº’å¼å¸è½½
  ./uninstall.sh --force            # å¼ºåˆ¶å¸è½½æ‰€æœ‰å†…å®¹
  ./uninstall.sh --keep-config      # å¸è½½ä½†ä¿ç•™é…ç½®æ–‡ä»¶
  ./uninstall.sh --keep-logs        # å¸è½½ä½†ä¿ç•™æ—¥å¿—æ–‡ä»¶
  ./uninstall.sh --dry-run          # é¢„è§ˆå°†è¦åˆ é™¤çš„å†…å®¹
```

### å¸è½½å†…å®¹

å¸è½½è„šæœ¬å°†åˆ é™¤ä»¥ä¸‹å†…å®¹ï¼š

- âœ… **systemdæœåŠ¡**: åœæ­¢å¹¶åˆ é™¤ `github-auto-commit` æœåŠ¡
- âœ… **crontabä»»åŠ¡**: åˆ é™¤ç›¸å…³çš„å®šæ—¶ä»»åŠ¡
- âœ… **è¿è¡Œè¿›ç¨‹**: åœæ­¢æ‰€æœ‰ç›¸å…³çš„è¿è¡Œè¿›ç¨‹
- âœ… **è™šæ‹Ÿç¯å¢ƒ**: åˆ é™¤ `venv/` ç›®å½•
- âœ… **æ•°æ®æ–‡ä»¶**: åˆ é™¤ `data/` ç›®å½•ï¼ˆåŒ…æ‹¬è´¦å·é…ç½®ï¼‰
- âœ… **æ—¥å¿—æ–‡ä»¶**: åˆ é™¤ `logs/` ç›®å½•ï¼ˆå¯é€‰ä¿ç•™ï¼‰
- âœ… **é…ç½®æ–‡ä»¶**: åˆ é™¤ `data/accounts_config.json`ï¼ˆå¯é€‰ä¿ç•™ï¼‰
- âœ… **ä¸´æ—¶æ–‡ä»¶**: æ¸…ç† `*.pyc`ã€`__pycache__`ã€`*.pid` ç­‰

### æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æé†’**ï¼š
- å¸è½½æ“ä½œä¸å¯é€†ï¼Œè¯·ç¡®ä¿å·²å¤‡ä»½é‡è¦æ•°æ®
- é¡¹ç›®ç›®å½•æœ¬èº«ä¸ä¼šè¢«åˆ é™¤ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤
- ä½¿ç”¨ `--dry-run` é€‰é¡¹å¯ä»¥é¢„è§ˆå°†è¦åˆ é™¤çš„å†…å®¹
- å¦‚æœä¿ç•™äº†é…ç½®æ–‡ä»¶ï¼Œé‡æ–°å®‰è£…æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨